"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[535],{1179:function(e,s,n){n.r(s),n.d(s,{default:function(){return b}});var a=n(3396),r=n(9242),t=n(1531);const o=e=>((0,a.dD)("data-v-85b5f2b4"),e=e(),(0,a.Cn)(),e),p={class:"wrapper"},l=o((()=>(0,a._)("img",{class:"wrapper__img",src:t,alt:""},null,-1))),u={class:"wrapper__link"},i=o((()=>(0,a._)("span",null,"立即注册",-1))),c=o((()=>(0,a._)("span",{class:"wrapper__link__gap"},"|",-1))),d=o((()=>(0,a._)("span",null,"忘记密码",-1)));function g(e,s,n,t,o,g){const w=(0,a.up)("router-link"),_=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",p,[l,(0,a.wy)((0,a._)("input",{class:"wrapper__input",type:"text",placeholder:"请输入用户名","onUpdate:modelValue":s[0]||(s[0]=s=>e.username=s)},null,512),[[r.nr,e.username]]),(0,a.wy)((0,a._)("input",{class:"wrapper__input",type:"password",placeholder:"请输入密码","onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s)},null,512),[[r.nr,e.password]]),(0,a._)("div",{class:"wrapper__login",onClick:s[2]||(s[2]=(...e)=>t.handleLogin&&t.handleLogin(...e))},"登录"),(0,a._)("div",u,[(0,a.Wm)(w,{to:"/register"},{default:(0,a.w5)((()=>[i])),_:1}),c,d]),t.toastInfo.show?((0,a.wg)(),(0,a.j4)(_,{key:0,message:t.toastInfo.message},null,8,["message"])):(0,a.kq)("",!0)])}n(7658);var w=n(4870),_=n(2483),m=n(6391),f=n(1090),h={name:"Login",components:{Toast:f.Z},setup(){const e=(0,_.tv)(),s=(0,w.qj)({username:"",password:""}),{toastInfo:n,showToast:a}=(0,f.S)(),r=async()=>{if(!s.username)return a("用户名不能为空");if(!s.password)return a("密码不能为空");try{const n=await(0,m.v)("/api/user/login",{username:s.username,password:s.password});if(0!==n?.errno)return a(n.desc);localStorage.setItem("loginTime",(new Date).getTime()),e.push("/")}catch(n){a(n.message)}};return{...(0,w.BK)(s),toastInfo:n,handleLogin:r}}},v=n(89);const k=(0,v.Z)(h,[["render",g],["__scopeId","data-v-85b5f2b4"]]);var b=k},1531:function(e,s,n){e.exports=n.p+"img/编组.86bd4c83.svg"}}]);
//# sourceMappingURL=login.7bd8a15b.js.map