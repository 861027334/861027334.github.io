{"version":3,"file":"js/shop.d5431ca1.js","mappings":"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","sources":["webpack://jingdong/./src/components/ShopInfo.vue","webpack://jingdong/./src/components/ShopInfo.vue?3071","webpack://jingdong/./src/views/shop/Shop.vue","webpack://jingdong/./src/views/shop/Content.vue","webpack://jingdong/./src/views/shop/Content.vue?312f","webpack://jingdong/./src/views/shop/Cart.vue","webpack://jingdong/./src/views/shop/Cart.vue?ac4d","webpack://jingdong/./src/views/shop/Shop.vue?d874"],"sourcesContent":["<template>\r\n  <div class=\"shop\">\r\n    <img class=\"shop__img\" :src=\"item.imgUrl\" alt=\"\">\r\n    <div class=\"shop__content\" :class=\"{'shop__content--bordered':!hideBorder}\">\r\n      <div class=\"shop__content__title\">{{ item.name }}</div>\r\n      <div class=\"shop__content__tags\">\r\n        <span class=\"shop__content__tag\">月售{{ item.sales }}</span>\r\n        <span class=\"shop__content__tag\">起送&yen;{{ item.expressLimit }}</span>\r\n        <span class=\"shop__content__tag\">基础运费&yen;{{ item.expressPrice }}</span>\r\n      </div>\r\n      <div class=\"shop__content__highlight\">{{ item.slogan }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ShopInfo',\r\n  props: ['item', 'hideBorder']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../style/variables\";\r\n\r\n.shop {\r\n  display: flex;\r\n  padding-top: .12rem;\r\n\r\n  &__img {\r\n    width: .56rem;\r\n    height: .56rem;\r\n    vertical-align: top;\r\n  }\r\n\r\n  &__content {\r\n    flex: 1;\r\n    margin-left: .16rem;\r\n    padding-bottom: .12rem;\r\n\r\n    &--bordered {\r\n      border-bottom: .01rem solid $content-bgColor;\r\n    }\r\n\r\n    &__title {\r\n      line-height: .22rem;\r\n      font-size: .16rem;\r\n      color: $content-fontcolor;\r\n    }\r\n\r\n    &__tags {\r\n      margin: .08rem 0;\r\n      line-height: .18rem;\r\n      font-size: .13rem;\r\n      color: $content-fontcolor;\r\n    }\r\n\r\n    &__tag {\r\n      margin-right: .16rem\r\n    }\r\n\r\n    &__highlight {\r\n      line-height: .18rem;\r\n      font-size: .13rem;\r\n      color: $highlight-fontColor;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ShopInfo.vue?vue&type=template&id=532fc664&scoped=true\"\nimport script from \"./ShopInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ShopInfo.vue?vue&type=style&index=0&id=532fc664&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\WebStormProjects\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-532fc664\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"top\">\r\n      <div class=\"top__back\">\r\n        <span class=\"iconfont\" @click=\"handleBackClick\">&#xe600;</span>\r\n      </div>\r\n      <div class=\"search\">\r\n        <span class=\"iconfont\">&#xe8ba;</span>\r\n        <input type=\"text\" class=\"search__input\" placeholder=\"请输入商品名称搜索\">\r\n      </div>\r\n    </div>\r\n    <ShopInfo :item=\"data.item\" :hide-border=\"true\" v-show=\"data.item.imgUrl\"/>\r\n    <Content/>\r\n    <Cart/>\r\n  </div>\r\n  <Toast v-if=\"toastInfo.show\" :message=\"toastInfo.message\"/>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { get } from '@/utils/request'\r\nimport ShopInfo from '@/components/ShopInfo.vue'\r\nimport Content from '@/views/shop/Content.vue'\r\nimport Cart from '@/views/shop/Cart.vue'\r\nimport Toast, { useToastEffect } from '@/components/Toast.vue'\r\n\r\nexport default {\r\n  name: 'ShopView',\r\n  components: {\r\n    ShopInfo,\r\n    Content,\r\n    Cart,\r\n    Toast\r\n  },\r\n  setup () {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const data = reactive({ item: {} })\r\n    const {\r\n      toastInfo,\r\n      showToast\r\n    } = useToastEffect()\r\n    const getItemData = async () => {\r\n      try {\r\n        const result = await get(`/api/shop/${route.params.id}`)\r\n        if (result?.errno !== 0) return showToast(result.desc)\r\n        data.item = result.data\r\n      } catch (e) {\r\n        showToast(e.message)\r\n      }\r\n    }\r\n    getItemData()\r\n    const handleBackClick = () => {\r\n      router.back()\r\n    }\r\n    return {\r\n      data,\r\n      toastInfo,\r\n      handleBackClick\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/variables\";\r\n\r\n.wrapper {\r\n  padding: 0 .18rem;\r\n}\r\n\r\n.top {\r\n  display: flex;\r\n  height: .32rem;\r\n  line-height: .32rem;\r\n  padding: .16rem 0 .04rem;\r\n\r\n  &__back {\r\n    width: .28rem;\r\n\r\n    .iconfont {\r\n      font-size: 0.25rem;\r\n      color: #B6B6B6;\r\n    }\r\n  }\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  flex: 1;\r\n  background: $search-bgColor;\r\n  border-radius: .16rem;\r\n\r\n  .iconfont {\r\n    color: $search-fontColor;\r\n    font-size: 0.18rem;\r\n    padding: 0 .12rem 0 .16rem;\r\n  }\r\n\r\n  &__input {\r\n    flex: 1;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n    padding: 0 .16rem 0 0;\r\n    font-size: .14rem;\r\n\r\n    &::placeholder {\r\n      color: $search-fontColor;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"content\">\r\n    <div class=\"category\">\r\n      <div class=\"category__item\" v-for=\"(item, index) in categories\" :key=\"index\"\r\n           :class=\"{'category__item--active': currentTab === item.tab}\"\r\n           @click=\"currentTab = item.tab\"\r\n      >\r\n        {{ item.name }}\r\n      </div>\r\n    </div>\r\n    <div class=\"product\">\r\n      <div class=\"product__item\" v-for=\"item in contentList\" :key=\"item._id\">\r\n        <img class=\"product__item__img\" :src=\"item.imgUrl\" alt=\"\">\r\n        <div class=\"product__item__detail\">\r\n          <div class=\"product__item__title\">{{ item.name }}</div>\r\n          <div class=\"product__item__sales\">月售{{ item.sales }}件</div>\r\n          <div class=\"product__item__price\">\r\n            <span class=\"product__item__yen\">&yen;</span>\r\n            <span class=\"product__item__now\">{{ item.price }}</span>\r\n            <span class=\"product__item__origin\">&yen;{{ item.oldPrice }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"product__number\">\r\n          <span class=\"iconfont product__number__minus\"\r\n                @click=\"changeCartItemInfo(shopId, item._id, item, -1)\">&#xe8b1;</span>\r\n          <span class=\"product__number__count\">{{ cartList[shopId]?.[item._id]?.count || 0 }}</span>\r\n          <span class=\"iconfont product__number__plus\"\r\n                @click=\"changeCartItemInfo(shopId, item._id, item, 1)\">&#xe8c8;</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Toast v-if=\"toastInfo.show\" :message=\"toastInfo.message\"/>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, toRefs, watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { get } from '@/utils/request'\r\nimport Toast, { useToastEffect } from '@/components/Toast.vue'\r\n\r\nconst categories = [{\r\n  name: '全部商品',\r\n  tab: 'all'\r\n}, {\r\n  name: '秒杀',\r\n  tab: 'seckill'\r\n}, {\r\n  name: '新鲜水果',\r\n  tab: 'fruit'\r\n}, {\r\n  name: '休闲食品',\r\n  tab: 'snacks'\r\n}, {\r\n  name: '时令蔬菜',\r\n  tab: 'vegetable'\r\n}, {\r\n  name: '肉蛋家禽',\r\n  tab: 'meat'\r\n}]\r\n\r\n// 购物车相关逻辑\r\nconst useCartEffect = () => {\r\n  const store = useStore()\r\n  const { cartList } = toRefs(store.state)\r\n  const changeCartItemInfo = (shopId, productId, productInfo, num) => {\r\n    store.commit('changeCartItemInfo', {\r\n      shopId,\r\n      productId,\r\n      productInfo,\r\n      num\r\n    })\r\n  }\r\n  return {\r\n    cartList,\r\n    changeCartItemInfo\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'ContentView',\r\n  components: { Toast },\r\n  setup () {\r\n    const currentTab = ref(categories[0].tab)\r\n    const data = reactive({ contentList: [] })\r\n\r\n    const {\r\n      toastInfo,\r\n      showToast\r\n    } = useToastEffect()\r\n\r\n    const route = useRoute()\r\n    const shopId = route.params.id\r\n    const getContentData = async (tab) => {\r\n      try {\r\n        const result = await get(`/api/shop/${shopId}s/products`, {\r\n          tab: tab\r\n        })\r\n        if (result.errno !== 0) return showToast(result.desc)\r\n        // data.contentList = result.data\r\n        data.contentList.push(...result.data)\r\n      } catch (e) {\r\n        showToast(e.message)\r\n      }\r\n    }\r\n\r\n    getContentData(currentTab.value)\r\n\r\n    watch(currentTab, () => {\r\n      getContentData(currentTab.value)\r\n    })\r\n    // const handleCategoryClick = (tab) => {\r\n    //   currentTab.value = tab\r\n    //   getContentData(currentTab.value)\r\n    // }\r\n    //\r\n    // watchEffect(() => {\r\n    //   getContentData(currentTab.value)\r\n    // })\r\n\r\n    const {\r\n      cartList,\r\n      changeCartItemInfo\r\n    } = useCartEffect()\r\n    return {\r\n      categories,\r\n      toastInfo,\r\n      currentTab,\r\n      ...toRefs(data),\r\n      cartList,\r\n      shopId,\r\n      changeCartItemInfo\r\n      // handleCategoryClick\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/variables\";\r\n@import \"../../style/mixins\";\r\n\r\n.content {\r\n  display: flex;\r\n  position: absolute;\r\n  top: 1.54rem;\r\n  bottom: .5rem;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.category {\r\n  width: .76rem;\r\n  background: $search-bgColor;\r\n  overflow: auto;\r\n\r\n  &__item {\r\n    height: .4rem;\r\n    line-height: .4rem;\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    color: $content-fontcolor;\r\n\r\n    &--active {\r\n      background: $bgColor;\r\n    }\r\n  }\r\n}\r\n\r\n.product {\r\n  flex: 1;\r\n  overflow: auto;\r\n\r\n  &__item {\r\n    display: flex;\r\n    padding: .12rem 0;\r\n    margin: 0 .18rem 0 .16rem;\r\n    border-bottom: .01rem solid $content-bgColor;\r\n    position: relative;\r\n\r\n    &__img {\r\n      width: .68rem;\r\n      height: .68rem;\r\n      margin-right: .16rem;\r\n    }\r\n\r\n    &__detail {\r\n      flex: 1;\r\n      overflow: hidden;\r\n    }\r\n\r\n    &__title {\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      font-weight: bold;\r\n      color: $content-fontcolor;\r\n      @include ellipsis;\r\n    }\r\n\r\n    &__sales {\r\n      margin: .06rem 0;\r\n      line-height: .16rem;\r\n      font-size: .12rem;\r\n      color: $content-fontcolor;\r\n    }\r\n\r\n    &__price {\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $highlight-fontColor;\r\n    }\r\n\r\n    &__yen {\r\n      font-size: .1rem;\r\n    }\r\n\r\n    &__now {\r\n      font-weight: bold;\r\n    }\r\n\r\n    &__origin {\r\n      font-size: .1rem;\r\n      color: $light-fontColor;\r\n      text-decoration: line-through;\r\n      margin-left: .06rem;\r\n    }\r\n  }\r\n\r\n  &__number {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: .12rem;\r\n    height: .2rem;\r\n    line-height: .2rem;\r\n\r\n    .iconfont {\r\n      font-size: .25rem;\r\n    }\r\n\r\n    &__minus {\r\n      color: $medium-fontColor;\r\n    }\r\n\r\n    &__plus {\r\n      color: $btn-bgColor;\r\n    }\r\n\r\n    &__count {\r\n      font-size: .14rem;\r\n      color: $content-fontcolor;\r\n      margin: 0 .1rem;\r\n      vertical-align: top;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Content.vue?vue&type=template&id=4cef7d94&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=4cef7d94&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\WebStormProjects\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4cef7d94\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"cart\">\r\n    <div class=\"cart__icon\">\r\n      <img class=\"cart__icon__img\" src=\"http://www.dell-lee.com/imgs/vue3/basket.png\" alt=\"\">\r\n      <div class=\"cart__icon__tag\" v-if=\"total>0\">{{ total }}</div>\r\n    </div>\r\n    <div class=\"cart__info\">\r\n      总计：<span class=\"cart__info__price\">&yen;{{ price }}</span>\r\n    </div>\r\n    <div class=\"cart__btn\">去结算</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\n\r\n// 获取购物车信息逻辑\r\nconst useCartEffect = () => {\r\n  const store = useStore()\r\n  const route = useRoute()\r\n  const shopId = route.params.id\r\n  const cartList = store.state.cartList\r\n  const total = computed(() => {\r\n    const productList = cartList[shopId]\r\n    let total = 0\r\n    for (const key in productList) {\r\n      const product = productList[key]\r\n      total += product.count\r\n    }\r\n    return total\r\n  })\r\n  const price = computed(() => {\r\n    const productList = cartList[shopId]\r\n    let price = 0\r\n    for (const key in productList) {\r\n      const product = productList[key]\r\n      price += product.price * product.count\r\n    }\r\n    return price.toFixed(2)\r\n  })\r\n  return {\r\n    total,\r\n    price\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'CartView',\r\n  setup () {\r\n    return {\r\n      ...useCartEffect()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/variables';\r\n\r\n.cart {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: .49rem;\r\n  line-height: .49rem;\r\n  box-shadow: 0 -.01rem .01rem 0 $content-bgColor;\r\n  display: flex;\r\n\r\n  &__icon {\r\n    width: .76rem;\r\n    text-align: center;\r\n    position: relative;\r\n\r\n    &__img {\r\n      width: .28rem;\r\n      height: .26rem;\r\n      margin-top: .11rem;\r\n    }\r\n\r\n    &__tag {\r\n      position: absolute;\r\n      top: .07rem;\r\n      right: .19rem;\r\n      //width: .2rem;\r\n      min-width: .2rem;\r\n      height: .2rem;\r\n      line-height: .2rem;\r\n      font-size: .16rem;\r\n      color: $bgColor;\r\n      background: $highlight-fontColor;\r\n      //border-radius: 50%;\r\n      padding: .02rem;\r\n      border-radius: .12rem;\r\n      transform: scale(.5);\r\n      transform-origin: right top;\r\n    }\r\n  }\r\n\r\n  &__info {\r\n    flex: 1;\r\n    padding-left: .08rem;\r\n    font-size: .12rem;\r\n    color: $content-fontcolor;\r\n\r\n    &__price {\r\n      font-size: .18rem;\r\n      color: $highlight-fontColor;\r\n      font-weight: bold;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n\r\n  &__btn {\r\n    width: .98rem;\r\n    background: #4FB0F9;\r\n    color: $bgColor;\r\n    font-size: .14rem;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=40224dd2&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=40224dd2&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\WebStormProjects\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-40224dd2\"]])\n\nexport default __exports__","import { render } from \"./Shop.vue?vue&type=template&id=447e5b5a&scoped=true\"\nimport script from \"./Shop.vue?vue&type=script&lang=js\"\nexport * from \"./Shop.vue?vue&type=script&lang=js\"\n\nimport \"./Shop.vue?vue&type=style&index=0&id=447e5b5a&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\WebStormProjects\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-447e5b5a\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","src","$props","imgUrl","alt","_hoisted_3","name","_hoisted_4","_hoisted_5","sales","_hoisted_6","expressLimit","_hoisted_7","expressPrice","_hoisted_8","slogan","props","__exports__","render","type","placeholder","_hoisted_2","onClick","$setup","_createVNode","_component_ShopInfo","item","_component_Content","_component_Cart","show","_createBlock","_component_Toast","message","_Fragment","index","tab","key","_ctx","_id","_hoisted_9","_hoisted_10","_hoisted_11","price","_hoisted_12","oldPrice","_hoisted_13","_hoisted_15","count","categories","useCartEffect","store","useStore","cartList","toRefs","state","changeCartItemInfo","shopId","productId","productInfo","num","commit","components","Toast","setup","currentTab","ref","data","reactive","contentList","toastInfo","showToast","useToastEffect","route","useRoute","params","id","getContentData","async","result","get","errno","desc","push","e","value","watch","total","computed","productList","product","toFixed","ShopInfo","Content","Cart","router","useRouter","getItemData","handleBackClick","back"],"sourceRoot":""}