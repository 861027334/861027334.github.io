"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[685],{5832:function(e,n,s){s.r(n),s.d(n,{default:function(){return f}});var r=s(3396),a=s(9242);const o=e=>((0,r.dD)("data-v-66740a31"),e=e(),(0,r.Cn)(),e),t={class:"wrapper"},l=o((()=>(0,r._)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:""},null,-1))),p={class:"wrapper__link"};function i(e,n,s,o,i,u){const c=(0,r.up)("Toast");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",t,[l,(0,r.wy)((0,r._)("input",{class:"wrapper__input",type:"text",placeholder:"请输入用户名","onUpdate:modelValue":n[0]||(n[0]=n=>e.username=n)},null,512),[[a.nr,e.username]]),(0,r.wy)((0,r._)("input",{class:"wrapper__input",type:"password",placeholder:"请输入密码","onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n)},null,512),[[a.nr,e.password]]),(0,r.wy)((0,r._)("input",{class:"wrapper__input",type:"password",placeholder:"确认密码","onUpdate:modelValue":n[2]||(n[2]=n=>e.confirm=n)},null,512),[[a.nr,e.confirm]]),(0,r._)("div",{class:"wrapper__register",onClick:n[3]||(n[3]=(...e)=>o.handleRegister&&o.handleRegister(...e))},"注册"),(0,r._)("div",p,[(0,r._)("span",{onClick:n[4]||(n[4]=(...e)=>o.handleToLoginClick&&o.handleToLoginClick(...e))},"已有账号去登陆")])]),o.toastInfo.show?((0,r.wg)(),(0,r.j4)(c,{key:0,message:o.toastInfo.message},null,8,["message"])):(0,r.kq)("",!0)],64)}s(7658);var u=s(4870),c=s(2483),d=s(6391),w=s(7010),g={name:"RegisterView",components:{Toast:w.Z},setup(){const e=(0,c.tv)(),n=(0,u.qj)({username:"",password:"",confirm:""}),{toastInfo:s,showToast:r}=(0,w.S)(),a=async()=>{if(!n.username)return r("用户名不能为空");if(!n.password)return r("密码不能为空");if(!n.confirm)return r("请确认密码");if(n.password!==n.confirm)return r("密码不一致");try{const s=await(0,d.v)("/api/user/register",{username:n.username,password:n.password});0===s?.errno?e.push("/login"):r("注册失败")}catch(s){r("请求失败")}},o=()=>{e.push("/login")};return{...(0,u.BK)(n),toastInfo:s,handleRegister:a,handleToLoginClick:o}}},m=s(89);const _=(0,m.Z)(g,[["render",i],["__scopeId","data-v-66740a31"]]);var f=_}}]);
//# sourceMappingURL=register.917ff7f4.js.map