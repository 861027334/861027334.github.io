"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[535],{8181:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var a=n(3396),r=n(9242);const o=e=>((0,a.dD)("data-v-d6c93456"),e=e(),(0,a.Cn)(),e),t={class:"wrapper"},l=o((()=>(0,a._)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:""},null,-1))),p={class:"wrapper__link"},i=o((()=>(0,a._)("span",{class:"wrapper__link__gap"},"|",-1))),u=o((()=>(0,a._)("span",null,"忘记密码",-1)));function c(e,s,n,o,c,d){const g=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",t,[l,(0,a.wy)((0,a._)("input",{class:"wrapper__input",type:"text",placeholder:"请输入用户名","onUpdate:modelValue":s[0]||(s[0]=s=>e.username=s)},null,512),[[r.nr,e.username]]),(0,a.wy)((0,a._)("input",{class:"wrapper__input",type:"password",placeholder:"请输入密码","onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s)},null,512),[[r.nr,e.password]]),(0,a._)("div",{class:"wrapper__login",onClick:s[2]||(s[2]=(...e)=>o.handleLogin&&o.handleLogin(...e))},"登录"),(0,a._)("div",p,[(0,a._)("span",{onClick:s[3]||(s[3]=(...e)=>o.handleToRegisterClick&&o.handleToRegisterClick(...e))},"立即注册"),i,u])]),o.toastInfo.show?((0,a.wg)(),(0,a.j4)(g,{key:0,message:o.toastInfo.message},null,8,["message"])):(0,a.kq)("",!0)],64)}n(7658);var d=n(4870),g=n(2483),w=n(6391),_=n(7010),m={name:"LoginView",components:{Toast:_.Z},setup(){const e=(0,g.tv)(),s=(0,d.qj)({username:"",password:""}),{toastInfo:n,showToast:a}=(0,_.S)(),r=async()=>{if(!s.username)return a("用户名不能为空");if(!s.password)return a("密码不能为空");try{const n=await(0,w.v)("/api/user/login",{username:s.username,password:s.password});0===n?.errno?(localStorage.setItem("isLogin",!0),e.push("/")):a("登录失败")}catch(n){console.log(n),a("请求失败")}},o=()=>{e.push("/register")};return{...(0,d.BK)(s),toastInfo:n,handleLogin:r,handleToRegisterClick:o}}},h=n(89);const k=(0,h.Z)(m,[["render",c],["__scopeId","data-v-d6c93456"]]);var f=k}}]);
//# sourceMappingURL=login.d3bc07e4.js.map